<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>S4 Class for internal representation of a factor model — penfaModel-class • penfa</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/readable/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="S4 Class for internal representation of a factor model — penfaModel-class" />
<meta property="og:description" content="The penfaModel class gives the internal matrix
representation of a factor analysis model. Note that this representation
summarizes the characteristics of the model itself (e.g., number of items,
number of factors, parameter indices, etc), without information on the
penalization process (see penfaPenalty for that
aspect). This class is an adaptation of the lavModel class from the
lavaan package." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PQWMEC6S1Z"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PQWMEC6S1Z');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">penfa</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/automatic-tuning-selection.html">Penalized Factor Analysis</a>
    </li>
    <li>
      <a href="../articles/grid-search-tuning-selection.html">Penalized Factor Analysis: grid search</a>
    </li>
    <li>
      <a href="../articles/articles/multiple-group-analysis.html">Penalized Multiple-Group Factor Analysis</a>
    </li>
    <li>
      <a href="../articles/articles/plotting-penalty-matrix.html">Plotting Penalty Matrices</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/egeminiani/penfa/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>S4 Class for internal representation of a factor model</h1>
    <small class="dont-index">Source: <a href='https://github.com/egeminiani/penfa/blob/master/R/class.R'><code>R/class.R</code></a></small>
    <div class="hidden name"><code>penfaModel-class.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>penfaModel</code> class gives the internal matrix
representation of a factor analysis model. Note that this representation
summarizes the characteristics of the model itself (e.g., number of items,
number of factors, parameter indices, etc), without information on the
penalization process (see <code><a href='penfaPenalty-class.html'>penfaPenalty</a></code> for that
aspect). This class is an adaptation of the <code>lavModel</code> class from the
<a href='https://CRAN.R-project.org/package=lavaan'>lavaan</a> package.</p>
    </div>



    <h2 class="hasAnchor" id="slots"><a class="anchor" href="#slots"></a>Slots</h2>

    

<dl>
<dt><code>GLIST</code></dt><dd><p>List. The model matrices and vectors: "lambda" for the factor
loading matrix, "psi" for the covariance matrix of the unique factors,
"phi" for the covariance matrix of the common factors, "tau" for the
intercept vector, and "kappa" for the vector of factor means. In case of a
multiple-group analysis, the elements of each group are presented
sequentially.</p></dd>

<dt><code>dimNames</code></dt><dd><p>List. Dimension names (row names and column names) of every
model matrix and vector.</p></dd>

<dt><code>isSymmetric</code></dt><dd><p>Logical vector declaring whether each model matrix/vector
is symmetric.</p></dd>

<dt><code>mmSize</code></dt><dd><p>Integer vector specifying the size (unique elements only) of
each model matrix/vector.</p></dd>

<dt><code>meanstructure</code></dt><dd><p>Logical. It declares whether the model includes a
meanstructure.</p></dd>

<dt><code>ngroups</code></dt><dd><p>Integer. The number of groups.</p></dd>

<dt><code>nmat</code></dt><dd><p>Integer vector specifying the number of model matrices/vectors for
each group.</p></dd>

<dt><code>nvar</code></dt><dd><p>Integer vector specifying the number of observed variables in each
group.</p></dd>

<dt><code>num.idx</code></dt><dd><p>List of the indices of the observed variables in each group.</p></dd>

<dt><code>nx.free</code></dt><dd><p>Integer. The number of parameters of the factor model. This
count does not include the fixed parameters, but it does include the
parameters that will be penalized (if any) during optimization. (see
<code><a href='penfaPenalty-class.html'>penfaPenalty</a></code> for additional details in this respect).</p></dd>

<dt><code>nx.user</code></dt><dd><p>Integer. The total count of the parameters that are being
estimated and the ones that have been fixed.</p></dd>

<dt><code>m.free.idx</code></dt><dd><p>List. For each model matrix, the indices of the elements to
be estimated (i.e., non-fixed). The counter starts at 1 for every model
matrix.</p></dd>

<dt><code>x.free.idx</code></dt><dd><p>List. For each model matrix, the indices of the elements to
be estimated (i.e., non-fixed). The counter continues from the previous
model matrix.</p></dd>

<dt><code>m.user.idx</code></dt><dd><p>List. Much like <code>m.free.idx</code>, but it also contains the
indices of the parameters that have been fixed by the user.</p></dd>

<dt><code>x.user.idx</code></dt><dd><p>List. Much like <code>x.free.idx</code>, but it also contains the
indices of the parameters that have been fixed by the user.</p></dd>

<dt><code>x.free.var.idx</code></dt><dd><p>Vector of integers denoting the indices corresponding to
the unique variances.</p></dd>

</dl>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='penfa.html'>penfa</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>ccdata</span><span class='op'>)</span>

<span class='va'>syntax</span> <span class='op'>=</span> <span class='st'>'help  =~   h1 + h2 + h3 + h4 + h5 + h6 + h7 + 0*v1 + v2 + v3 + v4 + v5
          voice =~ 0*h1 + h2 + h3 + h4 + h5 + h6 + h7 +   v1 + v2 + v3 + v4 + v5'</span>

<span class='va'>alasso_fit</span> <span class='op'>&lt;-</span> <span class='fu'><a href='penfa.html'>penfa</a></span><span class='op'>(</span><span class='co'>## factor model</span>
                    model  <span class='op'>=</span> <span class='va'>syntax</span>,
                    data   <span class='op'>=</span> <span class='va'>ccdata</span>,
                    std.lv <span class='op'>=</span> <span class='cn'>TRUE</span>,
                    <span class='co'>## penalization</span>
                    pen.shrink <span class='op'>=</span> <span class='st'>"alasso"</span>,
                    eta <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>shrink <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"lambda"</span> <span class='op'>=</span> <span class='fl'>0.01</span><span class='op'>)</span>, diff <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"none"</span> <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span>,
                    <span class='co'>## automatic procedure</span>
                    strategy <span class='op'>=</span> <span class='st'>"auto"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; Computing weights for alasso (ML estimates)... done.
#&gt; 
#&gt; Automatic procedure: 
#&gt; Iteration  1 : 0.00298271 
#&gt; Iteration  2 : 0.00452604 
#&gt; 
#&gt; Largest absolute gradient value: 12.76355181
#&gt; Fisher information matrix is positive definite
#&gt; Eigenvalue range: [180.2917, 9189645]
#&gt; Trust region iterations: 15 
#&gt; Factor solution: admissible 
#&gt; Effective degrees of freedom: 27.12936  </div><div class='input'>
<span class='va'>alasso_fit</span><span class='op'>@</span><span class='va'>Model</span>
</div><div class='output co'>#&gt; An object of class "penfaModel"
#&gt; Slot "GLIST":
#&gt; $lambda
#&gt;                [,1]          [,2]
#&gt;  [1,]  7.658121e-01  0.000000e+00
#&gt;  [2,]  8.579551e-01 -1.287100e-05
#&gt;  [3,]  7.753391e-01  5.304850e-06
#&gt;  [4,]  9.208458e-01 -4.119937e-02
#&gt;  [5,]  8.096618e-01  5.262033e-02
#&gt;  [6,]  7.820608e-01  1.042524e-01
#&gt;  [7,]  5.230518e-01  3.412021e-01
#&gt;  [8,]  0.000000e+00  8.507219e-01
#&gt;  [9,]  4.013798e-05  8.714683e-01
#&gt; [10,]  2.389271e-05  8.418956e-01
#&gt; [11,]  8.563583e-07  8.429135e-01
#&gt; [12,] -9.202527e-07  8.047512e-01
#&gt; 
#&gt; $psi
#&gt;            [,1]      [,2]      [,3]      [,4]      [,5]      [,6]      [,7]
#&gt;  [1,] 0.3875064 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000
#&gt;  [2,] 0.0000000 0.2331226 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000
#&gt;  [3,] 0.0000000 0.0000000 0.3723067 0.0000000 0.0000000 0.0000000 0.0000000
#&gt;  [4,] 0.0000000 0.0000000 0.0000000 0.1844461 0.0000000 0.0000000 0.0000000
#&gt;  [5,] 0.0000000 0.0000000 0.0000000 0.0000000 0.2349729 0.0000000 0.0000000
#&gt;  [6,] 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000 0.2009585 0.0000000
#&gt;  [7,] 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000 0.2638821
#&gt;  [8,] 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000
#&gt;  [9,] 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000
#&gt; [10,] 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000
#&gt; [11,] 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000
#&gt; [12,] 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000 0.0000000
#&gt;            [,8]      [,9]     [,10]    [,11]     [,12]
#&gt;  [1,] 0.0000000 0.0000000 0.0000000 0.000000 0.0000000
#&gt;  [2,] 0.0000000 0.0000000 0.0000000 0.000000 0.0000000
#&gt;  [3,] 0.0000000 0.0000000 0.0000000 0.000000 0.0000000
#&gt;  [4,] 0.0000000 0.0000000 0.0000000 0.000000 0.0000000
#&gt;  [5,] 0.0000000 0.0000000 0.0000000 0.000000 0.0000000
#&gt;  [6,] 0.0000000 0.0000000 0.0000000 0.000000 0.0000000
#&gt;  [7,] 0.0000000 0.0000000 0.0000000 0.000000 0.0000000
#&gt;  [8,] 0.2454065 0.0000000 0.0000000 0.000000 0.0000000
#&gt;  [9,] 0.0000000 0.2083625 0.0000000 0.000000 0.0000000
#&gt; [10,] 0.0000000 0.0000000 0.2607043 0.000000 0.0000000
#&gt; [11,] 0.0000000 0.0000000 0.0000000 0.259044 0.0000000
#&gt; [12,] 0.0000000 0.0000000 0.0000000 0.000000 0.3240195
#&gt; 
#&gt; $phi
#&gt;           [,1]      [,2]
#&gt; [1,] 1.0000000 0.8771535
#&gt; [2,] 0.8771535 1.0000000
#&gt; 
#&gt; 
#&gt; Slot "dimNames":
#&gt; [[1]]
#&gt; [[1]][[1]]
#&gt;  [1] "h1" "h2" "h3" "h4" "h5" "h6" "h7" "v1" "v2" "v3" "v4" "v5"
#&gt; 
#&gt; [[1]][[2]]
#&gt; [1] "help"  "voice"
#&gt; 
#&gt; 
#&gt; [[2]]
#&gt; [[2]][[1]]
#&gt;  [1] "h1" "h2" "h3" "h4" "h5" "h6" "h7" "v1" "v2" "v3" "v4" "v5"
#&gt; 
#&gt; [[2]][[2]]
#&gt;  [1] "h1" "h2" "h3" "h4" "h5" "h6" "h7" "v1" "v2" "v3" "v4" "v5"
#&gt; 
#&gt; 
#&gt; [[3]]
#&gt; [[3]][[1]]
#&gt; [1] "help"  "voice"
#&gt; 
#&gt; [[3]][[2]]
#&gt; [1] "help"  "voice"
#&gt; 
#&gt; 
#&gt; 
#&gt; Slot "isSymmetric":
#&gt; [1] FALSE  TRUE  TRUE
#&gt; 
#&gt; Slot "mmSize":
#&gt; [1] 24 78  3
#&gt; 
#&gt; Slot "meanstructure":
#&gt; [1] FALSE
#&gt; 
#&gt; Slot "ngroups":
#&gt; [1] 1
#&gt; 
#&gt; Slot "nmat":
#&gt; [1] 3
#&gt; 
#&gt; Slot "nvar":
#&gt; [1] 12
#&gt; 
#&gt; Slot "num.idx":
#&gt; [[1]]
#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12
#&gt; 
#&gt; 
#&gt; Slot "nx.free":
#&gt; [1] 35
#&gt; 
#&gt; Slot "nx.user":
#&gt; [1] 39
#&gt; 
#&gt; Slot "m.free.idx":
#&gt; [[1]]
#&gt;  [1]  1  2  3  4  5  6  7  9 10 11 12 14 15 16 17 18 19 20 21 22 23 24
#&gt; 
#&gt; [[2]]
#&gt;  [1]   1  14  27  40  53  66  79  92 105 118 131 144
#&gt; 
#&gt; [[3]]
#&gt; [1] 2 3
#&gt; 
#&gt; 
#&gt; Slot "x.free.idx":
#&gt; [[1]]
#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22
#&gt; 
#&gt; [[2]]
#&gt;  [1] 23 24 25 26 27 28 29 30 31 32 33 34
#&gt; 
#&gt; [[3]]
#&gt; [1] 35 35
#&gt; 
#&gt; 
#&gt; Slot "m.user.idx":
#&gt; [[1]]
#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24
#&gt; 
#&gt; [[2]]
#&gt;  [1]   1  14  27  40  53  66  79  92 105 118 131 144
#&gt; 
#&gt; [[3]]
#&gt; [1] 1 2 3 4
#&gt; 
#&gt; 
#&gt; Slot "x.user.idx":
#&gt; [[1]]
#&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24
#&gt; 
#&gt; [[2]]
#&gt;  [1] 25 26 27 28 29 30 31 32 33 34 35 36
#&gt; 
#&gt; [[3]]
#&gt; [1] 37 39 39 38
#&gt; 
#&gt; 
#&gt; Slot "x.free.var.idx":
#&gt;  [1] 23 24 25 26 27 28 29 30 31 32 33 34
#&gt; </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Elena Geminiani, Giampiero Marra, Irini Moustaki.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


